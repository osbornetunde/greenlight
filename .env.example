# Greenlight API Environment Configuration
# Copy this file to .env and customize the values for your setup
# Usage: cp .env.example .env

# =============================================================================
# SERVER CONFIGURATION
# =============================================================================

# API server port (default: 4000)
PORT=4000

# Application environment (development|staging|production)
ENV=development

# =============================================================================
# DATABASE CONFIGURATION (REQUIRED)
# =============================================================================

# PostgreSQL connection string - REQUIRED for application to start
# Format: postgres://username:password@host:port/database?sslmode=disable
# Update with your actual database credentials
GREENLIGHT_DB_DSN=postgres://greenlight:greenlight@localhost:5432/greenlight?sslmode=disable

# Alternative examples:
# Local development: postgres://user:password@localhost/greenlight?sslmode=disable
# Docker: postgres://greenlight:greenlight@db:5432/greenlight?sslmode=disable
# Production: postgres://user:secure_pass@prod-db.example.com:5432/greenlight?sslmode=require

# =============================================================================
# SMTP/EMAIL CONFIGURATION (REQUIRED for user registration)
# =============================================================================

# SMTP server configuration for sending activation emails
# The application will not work properly without these settings

# Default: Mailtrap (recommended for development)
# Sign up at https://mailtrap.io and replace with your actual credentials
SMTP_HOST=sandbox.smtp.mailtrap.io
SMTP_PORT=2525
SMTP_USERNAME=your_mailtrap_username_here
SMTP_PASSWORD=your_mailtrap_password_here
SMTP_SENDER=Greenlight <no-reply@greenlight.com>

# Alternative SMTP Providers:

# Gmail SMTP (for personal projects)
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USERNAME=your-email@gmail.com
# SMTP_PASSWORD=your-16-character-app-password
# SMTP_SENDER=Your Name <your-email@gmail.com>

# SendGrid (recommended for production)
# SMTP_HOST=smtp.sendgrid.net
# SMTP_PORT=587
# SMTP_USERNAME=apikey
# SMTP_PASSWORD=your-sendgrid-api-key
# SMTP_SENDER=Your App <noreply@yourdomain.com>

# Mailgun (alternative production option)
# SMTP_HOST=smtp.mailgun.org
# SMTP_PORT=587
# SMTP_USERNAME=postmaster@your-domain.mailgun.org
# SMTP_PASSWORD=your-mailgun-password
# SMTP_SENDER=Your App <noreply@yourdomain.com>

# AWS SES (for AWS-hosted applications)
# SMTP_HOST=email-smtp.us-east-1.amazonaws.com
# SMTP_PORT=587
# SMTP_USERNAME=your-ses-access-key
# SMTP_PASSWORD=your-ses-secret-key
# SMTP_SENDER=Your App <verified@yourdomain.com>

# =============================================================================
# CORS CONFIGURATION
# =============================================================================

# Space-separated list of trusted origins for CORS
# Set for frontend applications that need to access the API
CORS_TRUSTED_ORIGINS=http://localhost:3000 http://localhost:5173

# Production example:
# CORS_TRUSTED_ORIGINS=https://yourdomain.com https://app.yourdomain.com

# =============================================================================
# RATE LIMITING
# =============================================================================

# Rate limiting configuration
LIMITER_RPS=2.0
LIMITER_BURST=4
LIMITER_ENABLED=true

# Production settings might be:
# LIMITER_RPS=10.0
# LIMITER_BURST=20

# =============================================================================
# DATABASE CONNECTION POOL (Optional)
# =============================================================================

# Database connection pool settings
# DB_MAX_OPEN_CONNS=25
# DB_MAX_IDLE_CONNS=25
# DB_MAX_IDLE_TIME=15m

# =============================================================================
# SETUP INSTRUCTIONS
# =============================================================================

# 1. Copy this file: cp .env.example .env
# 2. Update DATABASE connection with your PostgreSQL credentials
# 3. Update SMTP settings with your actual email provider credentials
# 4. Run: make dev

# IMPORTANT NOTES:
# - DATABASE and SMTP configuration are BOTH REQUIRED for the app to start
# - PORT, ENV, CORS_TRUSTED_ORIGINS, and LIMITER_ENABLED are now configurable
# - Port 2525 is recommended over port 25 (which is often blocked)
# - Never commit your actual .env file to version control
# - Use different settings for development vs production environments
